# Maintainer: Batuhan Baserdem <baserdem.batuhan@gmail.com>
# vim: ft=PKGBUILD
pkgname=sbp-base
pkgver=4.0
pkgrel=1
pkgdesc="SBP Meta Package: base system"
arch=('any')
url="https://github.com/bbaserdem/Arch"
licence=(MIT)
validpgpkeys=('0B7151C823559DD8A7A04CE36426139E2F4C6CCE')
source=('base.install' 'base.root-ssh' )
sha256sums=(SKIP SKIP)
package() {
    install=base.install
    provides=('vim')
    conflicts=('vim')
    depends=('base')
    # Install user scripts
    install -dm 0755 "${pkgdir}/usr"
    install -dm 0755 "${pkgdir}/usr/bin"
    install -Dm 0755 base.repo-remove   "${pkgdir}/usr/bin/archrepo-remove"
    install -Dm 0755 base.repo-sync     "${pkgdir}/usr/bin/archrepo-sync"
    install -Dm 0755 base.repo-build    "${pkgdir}/usr/bin/archrepo-build"
    # Configure root account a bit
    install -dm 0750 "${pkgdir}/root/.local/share"
    install -dm 0700 "${pkgdir}/root/.local/share/ssh"
    install -Dm 0600 base.root-ssh      "${pkgdir}/root/.local/share/ssh/config"
    #---Packages in gentoo base group
    depends+=('rsync' 'diffutils' 'wget' 'man-pages' 'device-mapper' 'less'
        'openssh' 'inetutils' 'busybox' 'kbd' )
    #---Packages in base-devel group
    depends+=( 'autoconf' 'automake' 'binutils' 'bison' 'fakeroot' 'flex' 'gcc'
        'groff' 'libtool' 'm4' 'make' 'patch' 'pkgconf' 'sudo' 'texinfo' 'which'
        'man-db' 'perl' 's-nail' 'texinfo' 'usbutils' 'flex' 'groff' 'libtool'
        'm4' 'pkgconf' )
    #---SBP modules needed for base installation
    depends+=(
        'sbp-admin'         # Administration apps
        'sbp-audio'         # For audio related stuff
        'sbp-boot'          # Booting (uefi or bios)
        'sbp-devices'       # General device communications
        'sbp-fs'            # File-type utilities
        'sbp-hardware'      # Generic hardware management
        'sbp-kernel'        # Kernel and kernel related utilities
        'sbp-network'       # Networking
        'sbp-utils'         # (Console) only applications
    )
}
